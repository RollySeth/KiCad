//
// ClassBot.h
//
//
// dependencies:
//		AccelStepper
//		MultiStepper
//

#ifndef ClassBotLib_h
#define ClassBotLib_h

#include <Arduino.h>
#include <avr/pgmspace.h>
#include <AccelStepper.h>
#include <MultiStepper.h>
#include <Servo.h>
#include <math.h>

#define MAX_SPEED 1000
#define LEFT 0
#define RIGHT 1

static const int backlashComp = 12;
static const double TWOPI = 6.2831853071795865;
static const double RAD2DEG = 57.2957795130823209;
static float wheelDiameter =  52;        // mm (increase = spiral out)
static float wheelBase = 73.73;           // mm (increase = spiral in)
static float wheelBPI = wheelBase * PI;
static int stepsPerRev = 4076;
static float stepsDist = stepsPerRev / (wheelDiameter *PI);


const char simplex00[] PROGMEM = "\x00\x10";
const char simplex01[] PROGMEM = "\x08\x0a" "\x05\x15" "\x05\x07" "\xff\xff" "\x05\x02" "\x04\x01" "\x05\x00" "\x06\x01" "\x05\x02";
const char simplex02[] PROGMEM = "\x05\x10" "\x04\x15" "\x04\x0e" "\xff\xff" "\x0c\x15" "\x0c\x0e";
const char simplex03[] PROGMEM = "\x0b\x15" "\x0b\x19" "\x04\xf9" "\xff\xff" "\x11\x19" "\x0a\xf9" "\xff\xff" "\x04\x0c" "\x12\x0c" "\xff\xff" "\x03\x06" "\x11\x06";
const char simplex04[] PROGMEM = "\x1a\x14" "\x08\x19" "\x08\xfc" "\xff\xff" "\x0c\x19" "\x0c\xfc" "\xff\xff" "\x11\x12" "\x0f\x14" "\x0c\x15" "\x08\x15" "\x05\x14" "\x03\x12" "\x03\x10" "\x04\x0e" "\x05\x0d" "\x07\x0c" "\x0d\x0a" "\x0f\x09" "\x10\x08" "\x11\x06" "\x11\x03" "\x0f\x01" "\x0c\x00" "\x08\x00" "\x05\x01" "\x03\x03";
const char simplex05[] PROGMEM = "\x1f\x18" "\x15\x15" "\x03\x00" "\xff\xff" "\x08\x15" "\x0a\x13" "\x0a\x11" "\x09\x0f" "\x07\x0e" "\x05\x0e" "\x03\x10" "\x03\x12" "\x04\x14" "\x06\x15" "\x08\x15" "\x0a\x14" "\x0d\x13" "\x10\x13" "\x13\x14" "\x15\x15" "\xff\xff" "\x11\x07" "\x0f\x06" "\x0e\x04" "\x0e\x02" "\x10\x00" "\x12\x00" "\x14\x01" "\x15\x03" "\x15\x05" "\x13\x07" "\x11\x07";
const char simplex06[] PROGMEM = "\x22\x1a" "\x17\x0c" "\x17\x0d" "\x16\x0e" "\x15\x0e" "\x14\x0d" "\x13\x0b" "\x11\x06" "\x0f\x03" "\x0d\x01" "\x0b\x00" "\x07\x00" "\x05\x01" "\x04\x02" "\x03\x04" "\x03\x06" "\x04\x08" "\x05\x09" "\x0c\x0d" "\x0d\x0e" "\x0e\x10" "\x0e\x12" "\x0d\x14" "\x0b\x15" "\x09\x14" "\x08\x12" "\x08\x10" "\x09\x0d" "\x0b\x0a" "\x10\x03" "\x12\x01" "\x14\x00" "\x16\x00" "\x17\x01" "\x17\x02";
const char simplex07[] PROGMEM = "\x07\x0a" "\x05\x13" "\x04\x14" "\x05\x15" "\x06\x14" "\x06\x12" "\x05\x10" "\x04\x0f";
const char simplex08[] PROGMEM = "\x0a\x0e" "\x0b\x19" "\x09\x17" "\x07\x14" "\x05\x10" "\x04\x0b" "\x04\x07" "\x05\x02" "\x07\xfe" "\x09\xfb" "\x0b\xf9";
const char simplex09[] PROGMEM = "\x0a\x0e" "\x03\x19" "\x05\x17" "\x07\x14" "\x09\x10" "\x0a\x0b" "\x0a\x07" "\x09\x02" "\x07\xfe" "\x05\xfb" "\x03\xf9";
const char simplex10[] PROGMEM = "\x08\x10" "\x08\x15" "\x08\x09" "\xff\xff" "\x03\x12" "\x0d\x0c" "\xff\xff" "\x0d\x12" "\x03\x0c";
const char simplex11[] PROGMEM = "\x05\x1a" "\x0d\x12" "\x0d\x00" "\xff\xff" "\x04\x09" "\x16\x09";
const char simplex12[] PROGMEM = "\x08\x0a" "\x06\x01" "\x05\x00" "\x04\x01" "\x05\x02" "\x06\x01" "\x06\xff" "\x05\xfd" "\x04\xfc";
const char simplex13[] PROGMEM = "\x02\x1a" "\x04\x09" "\x16\x09";
const char simplex14[] PROGMEM = "\x05\x0a" "\x05\x02" "\x04\x01" "\x05\x00" "\x06\x01" "\x05\x02";
const char simplex15[] PROGMEM = "\x02\x16" "\x14\x19" "\x02\xf9";
const char simplex16[] PROGMEM = "\x11\x14" "\x09\x15" "\x06\x14" "\x04\x11" "\x03\x0c" "\x03\x09" "\x04\x04" "\x06\x01" "\x09\x00" "\x0b\x00" "\x0e\x01" "\x10\x04" "\x11\x09" "\x11\x0c" "\x10\x11" "\x0e\x14" "\x0b\x15" "\x09\x15";
const char simplex17[] PROGMEM = "\x04\x14" "\x06\x11" "\x08\x12" "\x0b\x15" "\x0b\x00";
const char simplex18[] PROGMEM = "\x0e\x14" "\x04\x10" "\x04\x11" "\x05\x13" "\x06\x14" "\x08\x15" "\x0c\x15" "\x0e\x14" "\x0f\x13" "\x10\x11" "\x10\x0f" "\x0f\x0d" "\x0d\x0a" "\x03\x00" "\x11\x00";
const char simplex19[] PROGMEM = "\x0f\x14" "\x05\x15" "\x10\x15" "\x0a\x0d" "\x0d\x0d" "\x0f\x0c" "\x10\x0b" "\x11\x08" "\x11\x06" "\x10\x03" "\x0e\x01" "\x0b\x00" "\x08\x00" "\x05\x01" "\x04\x02" "\x03\x04";
const char simplex20[] PROGMEM = "\x06\x14" "\x0d\x15" "\x03\x07" "\x12\x07" "\xff\xff" "\x0d\x15" "\x0d\x00";
const char simplex21[] PROGMEM = "\x11\x14" "\x0f\x15" "\x05\x15" "\x04\x0c" "\x05\x0d" "\x08\x0e" "\x0b\x0e" "\x0e\x0d" "\x10\x0b" "\x11\x08" "\x11\x06" "\x10\x03" "\x0e\x01" "\x0b\x00" "\x08\x00" "\x05\x01" "\x04\x02" "\x03\x04";
const char simplex22[] PROGMEM = "\x17\x14" "\x10\x12" "\x0f\x14" "\x0c\x15" "\x0a\x15" "\x07\x14" "\x05\x11" "\x04\x0c" "\x04\x07" "\x05\x03" "\x07\x01" "\x0a\x00" "\x0b\x00" "\x0e\x01" "\x10\x03" "\x11\x06" "\x11\x07" "\x10\x0a" "\x0e\x0c" "\x0b\x0d" "\x0a\x0d" "\x07\x0c" "\x05\x0a" "\x04\x07";
const char simplex23[] PROGMEM = "\x05\x14" "\x11\x15" "\x07\x00" "\xff\xff" "\x03\x15" "\x11\x15";
const char simplex24[] PROGMEM = "\x1d\x14" "\x08\x15" "\x05\x14" "\x04\x12" "\x04\x10" "\x05\x0e" "\x07\x0d" "\x0b\x0c" "\x0e\x0b" "\x10\x09" "\x11\x07" "\x11\x04" "\x10\x02" "\x0f\x01" "\x0c\x00" "\x08\x00" "\x05\x01" "\x04\x02" "\x03\x04" "\x03\x07" "\x04\x09" "\x06\x0b" "\x09\x0c" "\x0d\x0d" "\x0f\x0e" "\x10\x10" "\x10\x12" "\x0f\x14" "\x0c\x15" "\x08\x15";
const char simplex25[] PROGMEM = "\x17\x14" "\x10\x0e" "\x0f\x0b" "\x0d\x09" "\x0a\x08" "\x09\x08" "\x06\x09" "\x04\x0b" "\x03\x0e" "\x03\x0f" "\x04\x12" "\x06\x14" "\x09\x15" "\x0a\x15" "\x0d\x14" "\x0f\x12" "\x10\x0e" "\x10\x09" "\x0f\x04" "\x0d\x01" "\x0a\x00" "\x08\x00" "\x05\x01" "\x04\x03";
const char simplex26[] PROGMEM = "\x0b\x0a" "\x05\x0e" "\x04\x0d" "\x05\x0c" "\x06\x0d" "\x05\x0e" "\xff\xff" "\x05\x02" "\x04\x01" "\x05\x00" "\x06\x01" "\x05\x02";
const char simplex27[] PROGMEM = "\x0e\x0a" "\x05\x0e" "\x04\x0d" "\x05\x0c" "\x06\x0d" "\x05\x0e" "\xff\xff" "\x06\x01" "\x05\x00" "\x04\x01" "\x05\x02" "\x06\x01" "\x06\xff" "\x05\xfd" "\x04\xfc";
const char simplex28[] PROGMEM = "\x03\x18" "\x14\x12" "\x04\x09" "\x14\x00";
const char simplex29[] PROGMEM = "\x05\x1a" "\x04\x0c" "\x16\x0c" "\xff\xff" "\x04\x06" "\x16\x06";
const char simplex30[] PROGMEM = "\x03\x18" "\x04\x12" "\x14\x09" "\x04\x00";
const char simplex31[] PROGMEM = "\x14\x12" "\x03\x10" "\x03\x11" "\x04\x13" "\x05\x14" "\x07\x15" "\x0b\x15" "\x0d\x14" "\x0e\x13" "\x0f\x11" "\x0f\x0f" "\x0e\x0d" "\x0d\x0c" "\x09\x0a" "\x09\x07" "\xff\xff" "\x09\x02" "\x08\x01" "\x09\x00" "\x0a\x01" "\x09\x02";
const char simplex32[] PROGMEM = "\x37\x1b" "\x12\x0d" "\x11\x0f" "\x0f\x10" "\x0c\x10" "\x0a\x0f" "\x09\x0e" "\x08\x0b" "\x08\x08" "\x09\x06" "\x0b\x05" "\x0e\x05" "\x10\x06" "\x11\x08" "\xff\xff" "\x0c\x10" "\x0a\x0e" "\x09\x0b" "\x09\x08" "\x0a\x06" "\x0b\x05" "\xff\xff" "\x12\x10" "\x11\x08" "\x11\x06" "\x13\x05" "\x15\x05" "\x17\x07" "\x18\x0a" "\x18\x0c" "\x17\x0f" "\x16\x11" "\x14\x13" "\x12\x14" "\x0f\x15" "\x0c\x15" "\x09\x14" "\x07\x13" "\x05\x11" "\x04\x0f" "\x03\x0c" "\x03\x09" "\x04\x06" "\x05\x04" "\x07\x02" "\x09\x01" "\x0c\x00" "\x0f\x00" "\x12\x01" "\x14\x02" "\x15\x03" "\xff\xff" "\x13\x10" "\x12\x08" "\x12\x06" "\x13\x05";
const char simplex33[] PROGMEM = "\x08\x12" "\x09\x15" "\x01\x00" "\xff\xff" "\x09\x15" "\x11\x00" "\xff\xff" "\x04\x07" "\x0e\x07";
const char simplex34[] PROGMEM = "\x17\x15" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x15" "\x0d\x15" "\x10\x14" "\x11\x13" "\x12\x11" "\x12\x0f" "\x11\x0d" "\x10\x0c" "\x0d\x0b" "\xff\xff" "\x04\x0b" "\x0d\x0b" "\x10\x0a" "\x11\x09" "\x12\x07" "\x12\x04" "\x11\x02" "\x10\x01" "\x0d\x00" "\x04\x00";
const char simplex35[] PROGMEM = "\x12\x15" "\x12\x10" "\x11\x12" "\x0f\x14" "\x0d\x15" "\x09\x15" "\x07\x14" "\x05\x12" "\x04\x10" "\x03\x0d" "\x03\x08" "\x04\x05" "\x05\x03" "\x07\x01" "\x09\x00" "\x0d\x00" "\x0f\x01" "\x11\x03" "\x12\x05";
const char simplex36[] PROGMEM = "\x0f\x15" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x15" "\x0b\x15" "\x0e\x14" "\x10\x12" "\x11\x10" "\x12\x0d" "\x12\x08" "\x11\x05" "\x10\x03" "\x0e\x01" "\x0b\x00" "\x04\x00";
const char simplex37[] PROGMEM = "\x0b\x13" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x15" "\x11\x15" "\xff\xff" "\x04\x0b" "\x0c\x0b" "\xff\xff" "\x04\x00" "\x11\x00";
const char simplex38[] PROGMEM = "\x08\x12" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x15" "\x11\x15" "\xff\xff" "\x04\x0b" "\x0c\x0b";
const char simplex39[] PROGMEM = "\x16\x15" "\x12\x10" "\x11\x12" "\x0f\x14" "\x0d\x15" "\x09\x15" "\x07\x14" "\x05\x12" "\x04\x10" "\x03\x0d" "\x03\x08" "\x04\x05" "\x05\x03" "\x07\x01" "\x09\x00" "\x0d\x00" "\x0f\x01" "\x11\x03" "\x12\x05" "\x12\x08" "\xff\xff" "\x0d\x08" "\x12\x08";
const char simplex40[] PROGMEM = "\x08\x16" "\x04\x15" "\x04\x00" "\xff\xff" "\x12\x15" "\x12\x00" "\xff\xff" "\x04\x0b" "\x12\x0b";
const char simplex41[] PROGMEM = "\x02\x08" "\x04\x15" "\x04\x00";
const char simplex42[] PROGMEM = "\x0a\x10" "\x0c\x15" "\x0c\x05" "\x0b\x02" "\x0a\x01" "\x08\x00" "\x06\x00" "\x04\x01" "\x03\x02" "\x02\x05" "\x02\x07";
const char simplex43[] PROGMEM = "\x08\x15" "\x04\x15" "\x04\x00" "\xff\xff" "\x12\x15" "\x04\x07" "\xff\xff" "\x09\x0c" "\x12\x00";
const char simplex44[] PROGMEM = "\x05\x11" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x00" "\x10\x00";
const char simplex45[] PROGMEM = "\x0b\x18" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x15" "\x0c\x00" "\xff\xff" "\x14\x15" "\x0c\x00" "\xff\xff" "\x14\x15" "\x14\x00";
const char simplex46[] PROGMEM = "\x08\x16" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x15" "\x12\x00" "\xff\xff" "\x12\x15" "\x12\x00";
const char simplex47[] PROGMEM = "\x15\x16" "\x09\x15" "\x07\x14" "\x05\x12" "\x04\x10" "\x03\x0d" "\x03\x08" "\x04\x05" "\x05\x03" "\x07\x01" "\x09\x00" "\x0d\x00" "\x0f\x01" "\x11\x03" "\x12\x05" "\x13\x08" "\x13\x0d" "\x12\x10" "\x11\x12" "\x0f\x14" "\x0d\x15" "\x09\x15";
const char simplex48[] PROGMEM = "\x0d\x15" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x15" "\x0d\x15" "\x10\x14" "\x11\x13" "\x12\x11" "\x12\x0e" "\x11\x0c" "\x10\x0b" "\x0d\x0a" "\x04\x0a";
const char simplex49[] PROGMEM = "\x18\x16" "\x09\x15" "\x07\x14" "\x05\x12" "\x04\x10" "\x03\x0d" "\x03\x08" "\x04\x05" "\x05\x03" "\x07\x01" "\x09\x00" "\x0d\x00" "\x0f\x01" "\x11\x03" "\x12\x05" "\x13\x08" "\x13\x0d" "\x12\x10" "\x11\x12" "\x0f\x14" "\x0d\x15" "\x09\x15" "\xff\xff" "\x0c\x04" "\x12\xfe";
const char simplex50[] PROGMEM = "\x10\x15" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x15" "\x0d\x15" "\x10\x14" "\x11\x13" "\x12\x11" "\x12\x0f" "\x11\x0d" "\x10\x0c" "\x0d\x0b" "\x04\x0b" "\xff\xff" "\x0b\x0b" "\x12\x00";
const char simplex51[] PROGMEM = "\x14\x14" "\x11\x12" "\x0f\x14" "\x0c\x15" "\x08\x15" "\x05\x14" "\x03\x12" "\x03\x10" "\x04\x0e" "\x05\x0d" "\x07\x0c" "\x0d\x0a" "\x0f\x09" "\x10\x08" "\x11\x06" "\x11\x03" "\x0f\x01" "\x0c\x00" "\x08\x00" "\x05\x01" "\x03\x03";
const char simplex52[] PROGMEM = "\x05\x10" "\x08\x15" "\x08\x00" "\xff\xff" "\x01\x15" "\x0f\x15";
const char simplex53[] PROGMEM = "\x0a\x16" "\x04\x15" "\x04\x06" "\x05\x03" "\x07\x01" "\x0a\x00" "\x0c\x00" "\x0f\x01" "\x11\x03" "\x12\x06" "\x12\x15";
const char simplex54[] PROGMEM = "\x05\x12" "\x01\x15" "\x09\x00" "\xff\xff" "\x11\x15" "\x09\x00";
const char simplex55[] PROGMEM = "\x0b\x18" "\x02\x15" "\x07\x00" "\xff\xff" "\x0c\x15" "\x07\x00" "\xff\xff" "\x0c\x15" "\x11\x00" "\xff\xff" "\x16\x15" "\x11\x00";
const char simplex56[] PROGMEM = "\x05\x14" "\x03\x15" "\x11\x00" "\xff\xff" "\x11\x15" "\x03\x00";
const char simplex57[] PROGMEM = "\x06\x12" "\x01\x15" "\x09\x0b" "\x09\x00" "\xff\xff" "\x11\x15" "\x09\x0b";
const char simplex58[] PROGMEM = "\x08\x14" "\x11\x15" "\x03\x00" "\xff\xff" "\x03\x15" "\x11\x15" "\xff\xff" "\x03\x00" "\x11\x00";
const char simplex59[] PROGMEM = "\x0b\x0e" "\x04\x19" "\x04\xf9" "\xff\xff" "\x05\x19" "\x05\xf9" "\xff\xff" "\x04\x19" "\x0b\x19" "\xff\xff" "\x04\xf9" "\x0b\xf9";
const char simplex60[] PROGMEM = "\x02\x0e" "\x00\x15" "\x0e\xfd";
const char simplex61[] PROGMEM = "\x0b\x0e" "\x09\x19" "\x09\xf9" "\xff\xff" "\x0a\x19" "\x0a\xf9" "\xff\xff" "\x03\x19" "\x0a\x19" "\xff\xff" "\x03\xf9" "\x0a\xf9";
const char simplex62[] PROGMEM = "\x0a\x10" "\x06\x0f" "\x08\x12" "\x0a\x0f" "\xff\xff" "\x03\x0c" "\x08\x11" "\x0d\x0c" "\xff\xff" "\x08\x11" "\x08\x00";
const char simplex63[] PROGMEM = "\x02\x10" "\x00\xfe" "\x10\xfe";
const char simplex64[] PROGMEM = "\x07\x0a" "\x06\x15" "\x05\x14" "\x04\x12" "\x04\x10" "\x05\x0f" "\x06\x10" "\x05\x11";
const char simplex65[] PROGMEM = "\x11\x13" "\x0f\x0e" "\x0f\x00" "\xff\xff" "\x0f\x0b" "\x0d\x0d" "\x0b\x0e" "\x08\x0e" "\x06\x0d" "\x04\x0b" "\x03\x08" "\x03\x06" "\x04\x03" "\x06\x01" "\x08\x00" "\x0b\x00" "\x0d\x01" "\x0f\x03";
const char simplex66[] PROGMEM = "\x11\x13" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x0b" "\x06\x0d" "\x08\x0e" "\x0b\x0e" "\x0d\x0d" "\x0f\x0b" "\x10\x08" "\x10\x06" "\x0f\x03" "\x0d\x01" "\x0b\x00" "\x08\x00" "\x06\x01" "\x04\x03";
const char simplex67[] PROGMEM = "\x0e\x12" "\x0f\x0b" "\x0d\x0d" "\x0b\x0e" "\x08\x0e" "\x06\x0d" "\x04\x0b" "\x03\x08" "\x03\x06" "\x04\x03" "\x06\x01" "\x08\x00" "\x0b\x00" "\x0d\x01" "\x0f\x03";
const char simplex68[] PROGMEM = "\x11\x13" "\x0f\x15" "\x0f\x00" "\xff\xff" "\x0f\x0b" "\x0d\x0d" "\x0b\x0e" "\x08\x0e" "\x06\x0d" "\x04\x0b" "\x03\x08" "\x03\x06" "\x04\x03" "\x06\x01" "\x08\x00" "\x0b\x00" "\x0d\x01" "\x0f\x03";
const char simplex69[] PROGMEM = "\x11\x12" "\x03\x08" "\x0f\x08" "\x0f\x0a" "\x0e\x0c" "\x0d\x0d" "\x0b\x0e" "\x08\x0e" "\x06\x0d" "\x04\x0b" "\x03\x08" "\x03\x06" "\x04\x03" "\x06\x01" "\x08\x00" "\x0b\x00" "\x0d\x01" "\x0f\x03";
const char simplex70[] PROGMEM = "\x08\x0c" "\x0a\x15" "\x08\x15" "\x06\x14" "\x05\x11" "\x05\x00" "\xff\xff" "\x02\x0e" "\x09\x0e";
const char simplex71[] PROGMEM = "\x16\x13" "\x0f\x0e" "\x0f\xfe" "\x0e\xfb" "\x0d\xfa" "\x0b\xf9" "\x08\xf9" "\x06\xfa" "\xff\xff" "\x0f\x0b" "\x0d\x0d" "\x0b\x0e" "\x08\x0e" "\x06\x0d" "\x04\x0b" "\x03\x08" "\x03\x06" "\x04\x03" "\x06\x01" "\x08\x00" "\x0b\x00" "\x0d\x01" "\x0f\x03";
const char simplex72[] PROGMEM = "\x0a\x13" "\x04\x15" "\x04\x00" "\xff\xff" "\x04\x0a" "\x07\x0d" "\x09\x0e" "\x0c\x0e" "\x0e\x0d" "\x0f\x0a" "\x0f\x00";
const char simplex73[] PROGMEM = "\x08\x08" "\x03\x15" "\x04\x14" "\x05\x15" "\x04\x16" "\x03\x15" "\xff\xff" "\x04\x0e" "\x04\x00";
const char simplex74[] PROGMEM = "\x0b\x0a" "\x05\x15" "\x06\x14" "\x07\x15" "\x06\x16" "\x05\x15" "\xff\xff" "\x06\x0e" "\x06\xfd" "\x05\xfa" "\x03\xf9" "\x01\xf9";
const char simplex75[] PROGMEM = "\x08\x11" "\x04\x15" "\x04\x00" "\xff\xff" "\x0e\x0e" "\x04\x04" "\xff\xff" "\x08\x08" "\x0f\x00";
const char simplex76[] PROGMEM = "\x02\x08" "\x04\x15" "\x04\x00";
const char simplex77[] PROGMEM = "\x12\x1e" "\x04\x0e" "\x04\x00" "\xff\xff" "\x04\x0a" "\x07\x0d" "\x09\x0e" "\x0c\x0e" "\x0e\x0d" "\x0f\x0a" "\x0f\x00" "\xff\xff" "\x0f\x0a" "\x12\x0d" "\x14\x0e" "\x17\x0e" "\x19\x0d" "\x1a\x0a" "\x1a\x00";
const char simplex78[] PROGMEM = "\x0a\x13" "\x04\x0e" "\x04\x00" "\xff\xff" "\x04\x0a" "\x07\x0d" "\x09\x0e" "\x0c\x0e" "\x0e\x0d" "\x0f\x0a" "\x0f\x00";
const char simplex79[] PROGMEM = "\x11\x13" "\x08\x0e" "\x06\x0d" "\x04\x0b" "\x03\x08" "\x03\x06" "\x04\x03" "\x06\x01" "\x08\x00" "\x0b\x00" "\x0d\x01" "\x0f\x03" "\x10\x06" "\x10\x08" "\x0f\x0b" "\x0d\x0d" "\x0b\x0e" "\x08\x0e";
const char simplex80[] PROGMEM = "\x11\x13" "\x04\x0e" "\x04\xf9" "\xff\xff" "\x04\x0b" "\x06\x0d" "\x08\x0e" "\x0b\x0e" "\x0d\x0d" "\x0f\x0b" "\x10\x08" "\x10\x06" "\x0f\x03" "\x0d\x01" "\x0b\x00" "\x08\x00" "\x06\x01" "\x04\x03";
const char simplex81[] PROGMEM = "\x11\x13" "\x0f\x0e" "\x0f\xf9" "\xff\xff" "\x0f\x0b" "\x0d\x0d" "\x0b\x0e" "\x08\x0e" "\x06\x0d" "\x04\x0b" "\x03\x08" "\x03\x06" "\x04\x03" "\x06\x01" "\x08\x00" "\x0b\x00" "\x0d\x01" "\x0f\x03";
const char simplex82[] PROGMEM = "\x08\x0d" "\x04\x0e" "\x04\x00" "\xff\xff" "\x04\x08" "\x05\x0b" "\x07\x0d" "\x09\x0e" "\x0c\x0e";
const char simplex83[] PROGMEM = "\x11\x11" "\x0e\x0b" "\x0d\x0d" "\x0a\x0e" "\x07\x0e" "\x04\x0d" "\x03\x0b" "\x04\x09" "\x06\x08" "\x0b\x07" "\x0d\x06" "\x0e\x04" "\x0e\x03" "\x0d\x01" "\x0a\x00" "\x07\x00" "\x04\x01" "\x03\x03";
const char simplex84[] PROGMEM = "\x08\x0c" "\x05\x15" "\x05\x04" "\x06\x01" "\x08\x00" "\x0a\x00" "\xff\xff" "\x02\x0e" "\x09\x0e";
const char simplex85[] PROGMEM = "\x0a\x13" "\x04\x0e" "\x04\x04" "\x05\x01" "\x07\x00" "\x0a\x00" "\x0c\x01" "\x0f\x04" "\xff\xff" "\x0f\x0e" "\x0f\x00";
const char simplex86[] PROGMEM = "\x05\x10" "\x02\x0e" "\x08\x00" "\xff\xff" "\x0e\x0e" "\x08\x00";
const char simplex87[] PROGMEM = "\x0b\x16" "\x03\x0e" "\x07\x00" "\xff\xff" "\x0b\x0e" "\x07\x00" "\xff\xff" "\x0b\x0e" "\x0f\x00" "\xff\xff" "\x13\x0e" "\x0f\x00";
const char simplex88[] PROGMEM = "\x05\x11" "\x03\x0e" "\x0e\x00" "\xff\xff" "\x0e\x0e" "\x03\x00";
const char simplex89[] PROGMEM = "\x09\x10" "\x02\x0e" "\x08\x00" "\xff\xff" "\x0e\x0e" "\x08\x00" "\x06\xfc" "\x04\xfa" "\x02\xf9" "\x01\xf9";
const char simplex90[] PROGMEM = "\x08\x11" "\x0e\x0e" "\x03\x00" "\xff\xff" "\x03\x0e" "\x0e\x0e" "\xff\xff" "\x03\x00" "\x0e\x00";
const char simplex91[] PROGMEM = "\x27\x0e" "\x09\x19" "\x07\x18" "\x06\x17" "\x05\x15" "\x05\x13" "\x06\x11" "\x07\x10" "\x08\x0e" "\x08\x0c" "\x06\x0a" "\xff\xff" "\x07\x18" "\x06\x16" "\x06\x14" "\x07\x12" "\x08\x11" "\x09\x0f" "\x09\x0d" "\x08\x0b" "\x04\x09" "\x08\x07" "\x09\x05" "\x09\x03" "\x08\x01" "\x07\x00" "\x06\xfe" "\x06\xfc" "\x07\xfa" "\xff\xff" "\x06\x08" "\x08\x06" "\x08\x04" "\x07\x02" "\x06\x01" "\x05\xff" "\x05\xfd" "\x06\xfb" "\x07\xfa" "\x09\xf9";
const char simplex92[] PROGMEM = "\x02\x08" "\x04\x19" "\x04\xf9";
const char simplex93[] PROGMEM = "\x27\x0e" "\x05\x19" "\x07\x18" "\x08\x17" "\x09\x15" "\x09\x13" "\x08\x11" "\x07\x10" "\x06\x0e" "\x06\x0c" "\x08\x0a" "\xff\xff" "\x07\x18" "\x08\x16" "\x08\x14" "\x07\x12" "\x06\x11" "\x05\x0f" "\x05\x0d" "\x06\x0b" "\x0a\x09" "\x06\x07" "\x05\x05" "\x05\x03" "\x06\x01" "\x07\x00" "\x08\xfe" "\x08\xfc" "\x07\xfa" "\xff\xff" "\x08\x08" "\x06\x06" "\x06\x04" "\x07\x02" "\x08\x01" "\x09\xff" "\x09\xfd" "\x08\xfb" "\x07\xfa" "\x05\xf9";
const char simplex94[] PROGMEM = "\x17\x18" "\x03\x06" "\x03\x08" "\x04\x0b" "\x06\x0c" "\x08\x0c" "\x0a\x0b" "\x0e\x08" "\x10\x07" "\x12\x07" "\x14\x08" "\x15\x0a" "\xff\xff" "\x03\x08" "\x04\x0a" "\x06\x0b" "\x08\x0b" "\x0a\x0a" "\x0e\x07" "\x10\x06" "\x12\x06" "\x14\x07" "\x15\x0a" "\x15\x0c";

const char *const simplex[95] PROGMEM =
{
    simplex00,	simplex01,	simplex02,	simplex03,	simplex04,	simplex05,	simplex06,	simplex07,
    simplex08,	simplex09,	simplex10,	simplex11,	simplex12,	simplex13,	simplex14,	simplex15,
    simplex16,	simplex17,	simplex18,	simplex19,	simplex20,	simplex21,	simplex22,	simplex23,
    simplex24,	simplex25,	simplex26,	simplex27,	simplex28,	simplex29,	simplex30,	simplex31,
    simplex32,	simplex33,	simplex34,	simplex35,	simplex36,	simplex37,	simplex38,	simplex39,
    simplex40,	simplex41,	simplex42,	simplex43,	simplex44,	simplex45,	simplex46,	simplex47,
    simplex48,	simplex49,	simplex50,	simplex51,	simplex52,	simplex53,	simplex54,	simplex55,
    simplex56,	simplex57,	simplex58,	simplex59,	simplex60,	simplex61,	simplex62,	simplex63,
    simplex64,	simplex65,	simplex66,	simplex67,	simplex68,	simplex69,	simplex70,	simplex71,
    simplex72,	simplex73,	simplex74,	simplex75,	simplex76,	simplex77,	simplex78,	simplex79,
    simplex80,	simplex81,	simplex82,	simplex83,	simplex84,	simplex85,	simplex86,	simplex87,
    simplex88,	simplex89,	simplex90,	simplex91,	simplex92,	simplex93,	simplex94
};



class ClassBot
{
    public:
        ClassBot();

        void penDown();
        void penUp();
        void forward(float distance);
        void backward(float distance);
        void left(float degrees);
        void right(float degrees);
        void done();
        void square(int len);
        void star(int len, int points);
        void goTo(long x, long y, float scale, byte penUp);
        void ch(char ch, float scale);
        void text(char *message, float scale);

    private:
        long botX = 0;							// at origin
        long botY = 0;
        float botH = 0;							// facing up
        byte penIsUp;

        AccelStepper *leftMotor;
        AccelStepper *rightMotor;
        MultiStepper motors;

        long steps[2] = { 0, 0 };
        int lastPos[2] = { -1, -1 };
        Servo penServo;

        void setStep(int which, float dist);
        double bearing(double a1, double a2, double b1, double b2);
};

#endif
